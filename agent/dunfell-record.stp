/*
 * Copyright Â© Philip Withnall 2015 <philip@tecnocode.co.uk>
 *
 * This program is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as published by the
 * Free Software Foundation; either version 2.1 of the License, or (at your
 * option) any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public License
 * for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

/* Log file header. */
probe begin {
  printdln (",", "Dunfell log", "1.0", gettimeofday_us ());
}

probe glib.main_context_new {
  printdln (",", "g_main_context_new", gettimeofday_us (), tid (), context);
}

probe glib.main_context_acquire {
  printdln (",", "g_main_context_acquire", gettimeofday_us (), tid (), context, success);
}

probe glib.main_context_release {
  printdln (",", "g_main_context_release", gettimeofday_us (), tid (), context);
}

probe glib.main_context_free {
  printdln (",", "g_main_context_free", gettimeofday_us (), tid (), context);
}

probe glib.main_source_attach {
  printdln (",", "g_source_attach", gettimeofday_us (), tid (), source_ptr, context, id);
}

probe glib.main_source_destroy {
  printdln (",", "g_source_destroy", gettimeofday_us (), tid (), source_ptr, context);
}

probe glib.main_context_push_thread_default {
  printdln (",", "g_main_context_push_thread_default", gettimeofday_us (), tid (), context);
}

probe glib.main_context_pop_thread_default {
  printdln (",", "g_main_context_pop_thread_default", gettimeofday_us (), tid (), context);
}

probe glib.main_context_before_prepare {
  printdln (",", "g_main_context_before_prepare", gettimeofday_us (), tid (), context);
}

probe glib.main_context_after_prepare {
  printdln (",", "g_main_context_after_prepare", gettimeofday_us (), tid (), context, priority, n_ready);
}

probe glib.main_context_before_query {
  printdln (",", "g_main_context_before_query", gettimeofday_us (), tid (), context, max_priority);
}

probe glib.main_context_after_query {
  printdln (",", "g_main_context_after_query", gettimeofday_us (), tid (), context, timeout, n_fds);
}

probe glib.main_context_before_check {
  printdln (",", "g_main_context_before_check", gettimeofday_us (), tid (), context, max_priority, n_fds);
}

probe glib.main_context_after_check {
  printdln (",", "g_main_context_after_check", gettimeofday_us (), tid (), context, n_ready);
}

probe glib.main_context_before_dispatch {
  printdln (",", "g_main_context_before_dispatch", gettimeofday_us (), tid (), context);
}

probe glib.main_context_after_dispatch {
  printdln (",", "g_main_context_after_dispatch", gettimeofday_us (), tid (), context);
}
